# ã“ãˆãƒãƒ³ï¼ï¼ˆKoepon!ï¼‰

å€‹äººVTuberã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¬ãƒãƒ£å½¢å¼ã§è²©å£²ã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚æ¨ã—ãƒ¡ãƒ€ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€å°„å¹¸æ€§ã‚’æŠ‘ãˆã¤ã¤ãƒ•ã‚¡ãƒ³ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã‚’é«˜ã‚ã‚‹å®‰å¿ƒè¨­è¨ˆã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

- **ã‚¬ãƒãƒ£ã‚·ã‚¹ãƒ†ãƒ **: å˜ç™ºãƒ»10é€£ã§ãƒ‡ã‚¸ã‚¿ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è³¼å…¥
- **æ¨ã—ãƒ¡ãƒ€ãƒ«**: ã‚¬ãƒãƒ£è³¼å…¥æ™‚ã«å¿…ãšç²å¾—ã§ãã‚‹VTuberå°‚ç”¨é€šè²¨
- **äº¤æ›æ‰€**: æ¨ã—ãƒ¡ãƒ€ãƒ«ã§ç¢ºå®Ÿã«ç‰¹å…¸ã¨äº¤æ›å¯èƒ½
- **ç‰¹å…¸BOX**: ç²å¾—ã—ãŸç‰¹å…¸ã®ç®¡ç†ãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- **æ³•ä»¤éµå®ˆ**: æ™¯å“è¡¨ç¤ºæ³•ãƒ»ç‰¹å®šå•†å–å¼•æ³•ã«å®Œå…¨å¯¾å¿œ

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Framework**: NestJS + TypeScript
- **Database**: PostgreSQL 15 + TypeORM
- **Cache**: Redis 7
- **Authentication**: JWT + Refresh Token
- **Payment**: Stripe + KOMOJU
- **File Storage**: AWS S3 / Cloudflare R2

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Framework**: Next.js 14 (App Router)
- **State Management**: Zustand + TanStack Query  
- **UI Framework**: Tailwind CSS + shadcn/ui
- **Authentication**: NextAuth.js

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Container**: Docker + Kubernetes
- **CI/CD**: GitHub Actions + ArgoCD
- **Monitoring**: Datadog / New Relic
- **CDN**: CloudFront / Cloudflare

## ğŸš€ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18+
- Docker & Docker Compose
- Git

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone <repository-url>
cd koepon
```

### 2. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install
```

### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©åˆ‡ãªå€¤ã§ç·¨é›†
```

### 4. Dockerç’°å¢ƒèµ·å‹•
```bash
# è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
npm run db:setup

# ã¾ãŸã¯æ‰‹å‹•ã§ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
docker-compose up -d postgres redis
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
npm run dev
```

ã‚µãƒ¼ãƒãƒ¼ã¯ http://localhost:3000 ã§èµ·å‹•ã—ã¾ã™ã€‚

## ğŸ“ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm start

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test
npm run test:watch
npm run test:coverage

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
npm run lint
npm run lint:fix
npm run format
npm run format:check
npm run typecheck
```

### Docker & ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
```bash
# é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
npm run db:setup

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒªã‚»ãƒƒãƒˆ
npm run db:reset

# Docker ã‚³ãƒ³ãƒ†ãƒŠç®¡ç†
npm run docker:dev     # ã‚¢ãƒ—ãƒªå«ã‚€å…¨ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
npm run docker:tools   # ç®¡ç†ãƒ„ãƒ¼ãƒ«èµ·å‹• (PgAdmin, Redis Commander)
npm run docker:stop    # å…¨ã‚³ãƒ³ãƒ†ãƒŠåœæ­¢
npm run docker:logs    # ãƒ­ã‚°è¡¨ç¤º

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£
npm run migration:create -- CreateUserTable
npm run migration:run
npm run migration:revert
```

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
koepon/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ modules/           # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ auth/         # èªè¨¼ãƒ»èªå¯
â”‚   â”‚   â”œâ”€â”€ user/         # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ gacha/        # ã‚¬ãƒãƒ£ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ payment/      # æ±ºæ¸ˆå‡¦ç†
â”‚   â”‚   â”œâ”€â”€ reward/       # ç‰¹å…¸ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ exchange/     # äº¤æ›æ‰€
â”‚   â”‚   â”œâ”€â”€ vtuber/       # VTuberç®¡ç†
â”‚   â”‚   â””â”€â”€ admin/        # ç®¡ç†è€…æ©Ÿèƒ½
â”‚   â”œâ”€â”€ common/           # å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ config/           # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ shared/           # å…±æœ‰å‹ãƒ»å®šæ•°
â”‚   â”œâ”€â”€ app.module.ts     # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â””â”€â”€ main.ts           # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ docs/                 # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ spec/            # è¦ä»¶å®šç¾©
â”‚   â”œâ”€â”€ design/          # æŠ€è¡“è¨­è¨ˆ
â”‚   â””â”€â”€ tasks/           # å®Ÿè£…ã‚¿ã‚¹ã‚¯
â”œâ”€â”€ test/                # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ migrations/          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ seeds/              # ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ scripts/            # é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ docker-compose.yml  # Dockerè¨­å®š
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ç›£è¦–ãƒ¢ãƒ¼ãƒ‰
npm run test:watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run test:coverage
```

### ãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒª
- **å˜ä½“ãƒ†ã‚¹ãƒˆ**: `src/**/*.spec.ts`
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: `test/integration/**/*.test.ts`
- **E2Eãƒ†ã‚¹ãƒˆ**: `test/e2e/**/*.e2e-spec.ts`

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–
- OWASP ASVS Level 2æº–æ‹ 
- JWT + Refresh Tokenèªè¨¼
- bcryptã«ã‚ˆã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
- helmet.jsã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼
- CORSè¨­å®š
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- å…¥åŠ›å€¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚µãƒ‹ã‚¿ã‚¤ã‚º
- SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
- XSS/CSRFå¯¾ç­–

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
```bash
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³
npm run security:audit

# ä¾å­˜é–¢ä¿‚è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
npm audit
```

## ğŸ“Š ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `/api/v1/health` - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹
- `/api/v1/health/ready` - ä¾å­˜ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆã‚¬ãƒãƒ£å®Ÿè¡Œæ•°ã€å£²ä¸Šãªã©ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹

## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ
```bash
npm run deploy:staging
```

### æœ¬ç•ªç’°å¢ƒ
```bash
npm run deploy:production
```

## ğŸ“š APIä»•æ§˜

APIä»•æ§˜æ›¸ã¯ä»¥ä¸‹ã§ç¢ºèªã§ãã¾ã™ï¼š
- **OpenAPI**: `/api/v1/docs`
- **è¨­è¨ˆæ–‡æ›¸**: `docs/design/koepon/api-endpoints.md`

## ğŸ¤ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- TypeScript strict mode
- ESLint + Prettier
- Conventional Commits
- TDD (Test Driven Development)

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„
```
feat: æ–°æ©Ÿèƒ½è¿½åŠ 
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
style: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
chore: ãã®ä»–ã®å¤‰æ›´
```

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¦ä»¶å®šç¾©æ›¸](docs/spec/koepon-requirements.md)
- [æŠ€è¡“è¨­è¨ˆæ›¸](docs/design/koepon/README.md)
- [å®Ÿè£…ã‚¿ã‚¹ã‚¯](docs/tasks/koepon-tasks.md)

## ğŸ› å•é¡Œå ±å‘Š

ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¦æœ›ã¯ä»¥ä¸‹ã®æ–¹æ³•ã§ï¼š
1. GitHub Issues
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆSlackãƒãƒ£ãƒ³ãƒãƒ«
3. å®šæœŸãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§

## ğŸ‘¥ ãƒãƒ¼ãƒ 

- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: TBD
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: TBD  
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: TBD
- **ã‚¤ãƒ³ãƒ•ãƒ©**: TBD
- **QA**: TBD

---

**Koepon Development Team** ğŸµ